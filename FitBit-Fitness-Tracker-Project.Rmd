---
title: "FitBit-Fitness-Tracker-Project"
author: "PS"
date: '2023-03-10'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## About the Bellabeat

Urška Sršen and Sando Mur founded Bellabeat, a high-tech company that manufactures health-focused smart products. Collecting data on activity, sleep, stress, and reproductive health has allowed Bellabeat to empower women with knowledge about their own health and habits. Since it was founded in 2013, Bellabeat has grown rapidly and quickly positioned itself as a tech-driven wellness company for women.

By 2016, Bellabeat had opened offices around the world and launched multiple products. Bellabeat products became available through a growing number of online retailers in addition to their own e-commerce channel on their [website](https://bellabeat.com/).

Sršen knows that an analysis of Bellabeat's available consumer data would reveal more opportunities for growth. She has asked the marketing analytics team to focus on a Bellabeat product and analyze smart device usage data in order to gain insight into how people are already using their smart devices. Then, using this information, she would like high-level recommendations for how these trends can inform Bellabeat marketing strategy.

## About the Data Set

**Data Used**: The data set consisted of public data that explores smart device users' daily habits.

-   [FitBit Fitness Tracker Data](https://www.kaggle.com/datasets/arashnic/fitbit) (CC0: Public Domain, dataset made available through [Mobius](https://www.kaggle.com/arashnic)): This Kaggle data set contains personal fitness tracker from thirty fitbit users. Thirty eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring. It includes information about daily activity, steps, and heart rate that can be used to explore users' habits.

**Data Collection:** This dataset generated by respondents to a distributed **survey** via Amazon Mechanical Turk between 03.12.2016-05.12.2016. Thirty eligible Fitbit users consented to the submission of personal tracker data, including minute-level output for physical activity, heart rate, and sleep monitoring.

-   **Second-Party Data**: [Amazon Mechanical Turk (MTurk)](https://www.mturk.com/) is a crowdsourcing marketplace that makes it easier for individuals and businesses to outsource their processes and jobs to a distributed workforce who can perform these tasks virtually. This enables organizations to post tasks or surveys and pay people to complete them. Since the survey was subject to privacy regulations and data protection laws the assumption that the data is second-party is made. **Second-party data** refers to data that is collected by one organization or entity and then shared with another organization or entity.
-   **Potential Selection Bias**: This bias occurs when individuals choose whether or not to participate in a study or survey, and this choice is related to the outcome being studied. In this case, since 30 user consented to track their data, those individuals may differ in important ways from those who do not consent to participate and may not be a representative sample of the entire population of users.

**Data Organization**: The entire data consisted of 18 tables of CSV files. Individual reports can be parsed by export session ID or timestamp. Variation between output represents use of different types of Fitbit trackers and individual tracking behaviors / preferences.

-   Every file has an ID column which is a unique identifier for each user. We can use this variable to identify how many users are considered in each table.

-   I defined a function in order to get the number of users, variables and data types of each column within each table. The variable that represents the `datestamp` is parsed as `character`. This can cause issues when working with dates, therefore converting the data type from `character` to `Date` is required. Only the table `weightLogInfo` has a column with `logicals`. You may refer to the function in the documentation for further details.

| Table Name              | Type     | Participants | Description                                            |
|:---------------|:---------------|:---------------|:-----------------------|
| dailyActivity           | CSV File | 33 users     | 15 variables: character 01 \| numeric 14               |
| dailyCalories           | CSV File | 33 users     | 03 variables: character 01 \| numeric 02               |
| dailyIntensities        | CSV File | 33 users     | 10 variables: character 01 \| numeric 09               |
| dailySteps              | CSV File | 33 users     | 03 variables: character 01 \| numeric 02               |
| heartrate               | CSV File | 14 users     | 03 variables: character 01 \| numeric 02               |
| hourlyCalories          | CSV File | 33 users     | 03 variables: character 01 \| numeric 02               |
| hourlyIntensities       | CSV File | 33 users     | 04 variables: character 01 \| numeric 03               |
| hourlySteps             | CSV File | 33 users     | 03 variables: character 01 \| numeric 02               |
| minuteCaloriesNarrow    | CSV File | 33 users     | 03 variables: character 01 \| numeric 02               |
| minuteCaloriesWide      | CSV File | 33 users     | 62 variables: character 01 \| numeric 61               |
| minuteIntensitiesNarrow | CSV File | 33 users     | 03 variables: character 01 \| numeric 02               |
| minuteIntensitiesWide   | CSV File | 33 users     | 62 variables: character 01 \| numeric 61               |
| minuteMETsNarrow        | CSV File | 33 users     | 03 variables: character 01 \| numeric 02               |
| minutesSleep            | CSV File | 24 users     | 04 variables: character 01 \| numeric 03               |
| minutesStepsNarrow      | CSV File | 33 users     | 03 variables: character 01 \| numeric 02               |
| minutesStepsWide        | CSV File | 33 users     | 62 variables: character 01 \| numeric 61               |
| sleepDay                | CSV File | 24 users     | 05 variables: character 01 \| numeric 04               |
| weightLogInfo           | CSV File | 08 users     | 08 variables: character 01 \| numeric 06 \| logical 01 |

```{r Import libraries, message = FALSE}
# Import libraries
library(ggplot2)
library(readr)
library(dplyr)
```

```{r Import data sets, message = FALSE}
# Create a function to import all the data sets within the folder as a list
importDataList <- function(folder_path = "data") {
        
        # Get a list off all files names in the given folder
        file_names <- list.files(path = folder_path)
        
        # Create empty vectors to store data names and data lists
        data_name <- c()
        data_list <- list()
        
        # Loop through each file in the list of file names
        for(i in seq_along(file_names)) {
                
                # Find the position of the first underscore in the file 
                char_pos <- sapply(lapply(strsplit(file_names, split = ""), 
                                          function(x) {which(x == "_")}), 
                                   function(x) {x[1]})
                
                # Extract the data name from the file name 
                data_name[i] <- substr(file_names[i], start = 1, stop = char_pos[i] - 1)
                
                # Read in the CSV file and store it in the data list
                file_path <- paste0(folder_path, "/", file_names[i])
                data_list[[i]] <- read_csv(file_path)
        }
        
        # Rename the data sets in the list and return the list
        names(data_list) <- data_name
        return(data_list)
}
bellaFit <- importDataList()
```
